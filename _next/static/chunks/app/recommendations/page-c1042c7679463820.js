(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{8616:function(e,s,a){Promise.resolve().then(a.bind(a,8586))},8586:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var t=a(3827),l=a(4090),r=a(3177),n=a(7473),c=a(2670);function i(){let{register:e,handleSubmit:s,watch:a,setValue:i,formState:{errors:d}}=(0,c.cI)(),[o,m]=(0,l.useState)(!1),u=async e=>{console.log("Filter updated:",e),m(!1)};return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"筛选条件"}),(0,t.jsx)("button",{onClick:()=>m(!o),className:"text-sm text-blue-600 hover:text-blue-800",children:o?"确认修改":"修改筛选"})]}),(0,t.jsxs)("form",{onSubmit:s(u),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"基本信息"}),(0,t.jsx)(r.Z,{register:e,setValue:i,error:d.nationality}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"年龄"}),(0,t.jsx)("input",{type:"number",...e("age",{required:"请输入年龄",min:{value:16,message:"年龄不能小于16岁"},max:{value:100,message:"年龄不能大于100岁"}}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!o}),d.age&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.age.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"邮箱"}),(0,t.jsx)("input",{type:"email",...e("email",{required:"请输入邮箱"}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!o}),d.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"学术背景"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"GPA"}),(0,t.jsx)("input",{type:"number",step:"0.01",...e("gpa",{required:"请输入GPA",min:{value:0,message:"GPA不能小于0"},max:{value:4,message:"GPA不能大于4"}}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!o}),d.gpa&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.gpa.message})]}),(0,t.jsx)(n.Z,{register:e,watch:a,error:d.languageTest})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"留学目标"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"目标学位"}),(0,t.jsxs)("select",{...e("targetDegree",{required:"请选择目标学位"}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!o,children:[(0,t.jsx)("option",{value:"",children:"请选择目标学位"}),(0,t.jsx)("option",{value:"bachelor",children:"本科"}),(0,t.jsx)("option",{value:"master",children:"硕士"}),(0,t.jsx)("option",{value:"phd",children:"博士"})]}),d.targetDegree&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.targetDegree.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"目标专业"}),(0,t.jsx)("input",{type:"text",...e("targetMajor",{required:"请输入目标专业"}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:!o}),d.targetMajor&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.targetMajor.message})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"奖学金需求"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)("label",{className:"inline-flex items-center",children:[(0,t.jsx)("input",{type:"radio",...e("needScholarship",{required:"请选择是否需要奖学金"}),value:"needed",className:"form-radio",disabled:!o}),(0,t.jsx)("span",{className:"ml-2",children:"需要"})]}),(0,t.jsxs)("label",{className:"inline-flex items-center",children:[(0,t.jsx)("input",{type:"radio",...e("needScholarship",{required:"请选择是否需要奖学金"}),value:"optional",className:"form-radio",disabled:!o}),(0,t.jsx)("span",{className:"ml-2",children:"可有可无"})]})]}),d.needScholarship&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.needScholarship.message})]})]}),o&&(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"更新筛选条件"})})]})]})}function d(e){let{school:s,isSelected:a,onSelect:l}=e;return(0,t.jsxs)("div",{className:"\n        relative bg-white rounded-xl shadow-md p-6 transition-all\n        ".concat(a?"ring-2 ring-blue-500":"hover:shadow-lg","\n      "),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:s.name}),(0,t.jsx)("p",{className:"text-gray-500",children:s.location})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"全国排名"}),(0,t.jsxs)("div",{className:"text-xl font-semibold text-gray-900",children:["#",s.ranking]})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"匹配度"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-blue-600",children:[s.matchScore,"%"]})]}),(0,t.jsx)("div",{className:"mt-2 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 rounded-full h-2",style:{width:"".concat(s.matchScore,"%")}})})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-between items-center",children:[(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",onClick:()=>console.log("View details:",s.id),children:"查看详情"}),(0,t.jsx)("button",{onClick:l,className:"\n            px-4 py-2 rounded-md text-sm font-medium\n            ".concat(a?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n          "),children:a?"取消选择":"选择比较"})]})]})}let o=[{id:"all",name:"全部"},{id:"reach",name:"冲刺",description:"难度较高但有可能"},{id:"match",name:"匹配",description:"难度适中"},{id:"safety",name:"保底",description:"基本能保证录取"}],m={reach:[{id:1,name:"清华大学",location:"北京",ranking:1,matchScore:85},{id:2,name:"北京大学",location:"北京",ranking:2,matchScore:82},{id:3,name:"复旦大学",location:"上海",ranking:3,matchScore:80}],match:[{id:4,name:"上海交通大学",location:"上海",ranking:4,matchScore:92},{id:5,name:"浙江大学",location:"杭州",ranking:5,matchScore:90},{id:6,name:"南京大学",location:"南京",ranking:6,matchScore:88},{id:7,name:"中国科学技术大学",location:"合肥",ranking:7,matchScore:87}],safety:[{id:8,name:"武汉大学",location:"武汉",ranking:8,matchScore:95},{id:9,name:"同济大学",location:"上海",ranking:9,matchScore:94},{id:10,name:"华中科技大学",location:"武汉",ranking:10,matchScore:93}]};function u(e){var s;let{activeTab:a,onTabChange:r}=e,[n,c]=(0,l.useState)([]),i=e=>{c(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:o.map(e=>(0,t.jsxs)("button",{onClick:()=>r(e.id),className:"\n                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm\n                ".concat(a===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n              "),children:[e.name,"all"!==e.id&&(0,t.jsxs)("span",{className:"ml-2 text-gray-400",children:["(",m[e.id].length,")"]})]},e.id))})}),"all"!==a&&(0,t.jsx)("div",{className:"mt-4 bg-blue-50 text-blue-700 px-4 py-2 rounded-md text-sm",children:null===(s=o.find(e=>e.id===a))||void 0===s?void 0:s.description}),(0,t.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-6",children:("all"===a?[...m.reach,...m.match,...m.safety]:m[a]).map(e=>(0,t.jsx)(d,{school:e,isSelected:n.includes(e.id),onSelect:()=>i(e.id)},e.id))}),n.length>1&&(0,t.jsx)("div",{className:"fixed bottom-8 right-8",children:(0,t.jsxs)("button",{onClick:()=>console.log("Compare schools:",n),className:"bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:["比较已选择的 ",n.length," 所学校"]})})]})}function x(){let[e,s]=(0,l.useState)("all");return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"学校推荐结果"}),(0,t.jsxs)("div",{className:"flex gap-8",children:[(0,t.jsx)("div",{className:"w-1/3",children:(0,t.jsx)(i,{})}),(0,t.jsx)("div",{className:"w-2/3",children:(0,t.jsx)(u,{activeTab:e,onTabChange:s})})]})]})})}},3177:function(e,s,a){"use strict";a.d(s,{Z:function(){return n}});var t=a(3827),l=a(4090);let r=Object.entries(a(7520).hW).map(e=>{let[s,a]=e;return{code:s,name:a.name,native:a.native}}).sort((e,s)=>e.name.localeCompare(s.name));function n(e){let{register:s,setValue:a,error:n}=e,[c,i]=(0,l.useState)(""),[d,o]=(0,l.useState)(!1),[m,u]=(0,l.useState)(""),[x,h]=(0,l.useState)(-1),b=(0,l.useRef)(null),g=(0,l.useRef)(null),p=r.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.native.toLowerCase().includes(c.toLowerCase())||e.code.toLowerCase().includes(c.toLowerCase()));(0,l.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&(o(!1),m&&i(m))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m]);let j=(e,s,t)=>{var l;let r="".concat(s," (").concat(t,")");a("nationality",e,{shouldValidate:!0}),u(r),i(r),o(!1),h(-1),null===(l=g.current)||void 0===l||l.blur()};return(0,t.jsxs)("div",{className:"space-y-2",ref:b,children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"国籍"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{ref:g,type:"text",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"搜索国家...",value:c,onChange:e=>{i(e.target.value),o(!0),e.target.value||(u(""),a("nationality","",{shouldValidate:!0}))},onFocus:()=>{o(!0),m&&i("")},onKeyDown:e=>{if(!d){("ArrowDown"===e.key||"Enter"===e.key)&&(o(!0),h(0),e.preventDefault());return}switch(e.key){case"ArrowDown":h(e=>e<p.length-1?e+1:e),e.preventDefault();break;case"ArrowUp":h(e=>e>0?e-1:0),e.preventDefault();break;case"Enter":if(x>=0&&x<p.length){let e=p[x];j(e.code,e.name,e.native)}e.preventDefault();break;case"Escape":o(!1),h(-1),m&&i(m)}}}),(0,t.jsx)("input",{type:"hidden",...s("nationality",{required:"请选择国籍"})}),d&&p.length>0&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-auto",children:p.map((e,s)=>{let{code:a,name:l,native:r}=e;return(0,t.jsxs)("div",{className:"px-4 py-2 cursor-pointer ".concat(s===x?"bg-blue-100":"hover:bg-gray-100"),onClick:()=>j(a,l,r),onMouseEnter:()=>h(s),children:[l," (",r,")"]},a)})})]}),n&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.message})]})}},7473:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(3827);let l=[{value:"HSK",label:"HSK"},{value:"IELTS",label:"雅思"},{value:"TOEFL",label:"托福"}];function r(e){let{register:s,watch:a,error:r}=e,n=a("languageTest.type");return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"语言能力（选填）"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("select",{...s("languageTest.type"),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"请选择语言考试"}),l.map(e=>{let{value:s,label:a}=e;return(0,t.jsx)("option",{value:s,children:a},s)})]}),n&&(0,t.jsx)("input",{type:"number",...s("languageTest.score",{min:{value:0,message:"分数不能小于0"},max:{value:"HSK"===n?6:"IELTS"===n?9:120,message:"分数不能大于".concat("HSK"===n?6:"IELTS"===n?9:120)}}),placeholder:"请输入".concat(n,"分数"),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),r&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.message})]})}}},function(e){e.O(0,[670,520,971,69,744],function(){return e(e.s=8616)}),_N_E=e.O()}]);