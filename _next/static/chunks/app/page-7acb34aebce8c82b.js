(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3271:function(e,s,a){Promise.resolve().then(a.bind(a,871))},871:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return u}});var r=a(3827),l=a(2670);function t(e){let{label:s,name:a,type:l="text",register:t,error:n,required:o,min:c,max:i,step:d,placeholder:u,validation:m}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:s}),(0,r.jsx)("input",{type:l,...t(a,{required:!!o&&"此字段为必填项",min:void 0!==c?{value:c,message:"不能小于".concat(c)}:void 0,max:void 0!==i?{value:i,message:"不能大于".concat(i)}:void 0,...m}),step:d,placeholder:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.message})]})}var n=a(4090);let o=Object.entries(a(7520).hW).map(e=>{let[s,a]=e;return{code:s,name:a.name,native:a.native}}).sort((e,s)=>e.name.localeCompare(s.name));function c(e){let{register:s,setValue:a,error:l}=e,[t,c]=(0,n.useState)(""),[i,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(-1),g=(0,n.useRef)(null),p=(0,n.useRef)(null),b=o.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.native.toLowerCase().includes(t.toLowerCase())||e.code.toLowerCase().includes(t.toLowerCase()));(0,n.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&(d(!1),u&&c(u))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[u]);let f=(e,s,r)=>{var l;let t="".concat(s," (").concat(r,")");a("nationality",e,{shouldValidate:!0}),m(t),c(t),d(!1),h(-1),null===(l=p.current)||void 0===l||l.blur()};return(0,r.jsxs)("div",{className:"space-y-2",ref:g,children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"国籍"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{ref:p,type:"text",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"搜索国家...",value:t,onChange:e=>{c(e.target.value),d(!0),e.target.value||(m(""),a("nationality","",{shouldValidate:!0}))},onFocus:()=>{d(!0),u&&c("")},onKeyDown:e=>{if(!i){("ArrowDown"===e.key||"Enter"===e.key)&&(d(!0),h(0),e.preventDefault());return}switch(e.key){case"ArrowDown":h(e=>e<b.length-1?e+1:e),e.preventDefault();break;case"ArrowUp":h(e=>e>0?e-1:0),e.preventDefault();break;case"Enter":if(x>=0&&x<b.length){let e=b[x];f(e.code,e.name,e.native)}e.preventDefault();break;case"Escape":d(!1),h(-1),u&&c(u)}}}),(0,r.jsx)("input",{type:"hidden",...s("nationality",{required:"请选择国籍"})}),i&&b.length>0&&(0,r.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-auto",children:b.map((e,s)=>{let{code:a,name:l,native:t}=e;return(0,r.jsxs)("div",{className:"px-4 py-2 cursor-pointer ".concat(s===x?"bg-blue-100":"hover:bg-gray-100"),onClick:()=>f(a,l,t),onMouseEnter:()=>h(s),children:[l," (",t,")"]},a)})})]}),l&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.message})]})}let i=[{value:"HSK",label:"HSK"},{value:"IELTS",label:"雅思"},{value:"TOEFL",label:"托福"}];function d(e){let{register:s,watch:a,error:l}=e,t=a("languageTest.type");return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"语言能力（选填）"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("select",{...s("languageTest.type"),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"请选择语言考试"}),i.map(e=>{let{value:s,label:a}=e;return(0,r.jsx)("option",{value:s,children:a},s)})]}),t&&(0,r.jsx)("input",{type:"number",...s("languageTest.score",{min:{value:0,message:"分数不能小于0"},max:{value:"HSK"===t?6:"IELTS"===t?9:120,message:"分数不能大于".concat("HSK"===t?6:"IELTS"===t?9:120)}}),placeholder:"请输入".concat(t,"分数"),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.message})]})}function u(){let{register:e,handleSubmit:s,watch:a,setValue:n,formState:{errors:o}}=(0,l.cI)(),i=async e=>{console.log("Form submitted:",e)};return(0,r.jsxs)("form",{onSubmit:s(i),className:"max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(c,{register:e,setValue:n,error:o.nationality}),(0,r.jsx)(t,{label:"年龄",name:"age",type:"number",register:e,error:o.age,required:!0,min:16,max:100}),(0,r.jsx)(t,{label:"邮箱",name:"email",type:"email",register:e,error:o.email,required:!0,placeholder:"请输入邮箱地址"}),(0,r.jsx)(t,{label:"GPA",name:"gpa",type:"number",register:e,error:o.gpa,required:!0,min:0,max:4,step:.01,placeholder:"请输入 GPA（0-4.0）"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"目标学位"}),(0,r.jsxs)("select",{...e("targetDegree",{required:"请选择目标学位"}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"请选择目标学位"}),(0,r.jsx)("option",{value:"bachelor",children:"本科"}),(0,r.jsx)("option",{value:"master",children:"硕士"}),(0,r.jsx)("option",{value:"phd",children:"博士"})]}),o.targetDegree&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.targetDegree.message})]}),(0,r.jsx)(t,{label:"目标专业",name:"targetMajor",register:e,error:o.targetMajor,required:!0,placeholder:"请输入目标专业"}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsx)(d,{register:e,watch:a,error:o.languageTest})}),(0,r.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"奖学金需求"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("label",{className:"inline-flex items-center",children:[(0,r.jsx)("input",{type:"radio",...e("needScholarship",{required:"请选择是否需要奖学金"}),value:"needed",className:"form-radio"}),(0,r.jsx)("span",{className:"ml-2",children:"需要"})]}),(0,r.jsxs)("label",{className:"inline-flex items-center",children:[(0,r.jsx)("input",{type:"radio",...e("needScholarship",{required:"请选择是否需要奖学金"}),value:"optional",className:"form-radio"}),(0,r.jsx)("span",{className:"ml-2",children:"可有可无"})]})]}),o.needScholarship&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.needScholarship.message})]})]}),(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-8 py-3 rounded-md hover:bg-blue-600 transition-colors text-lg",children:"开始匹配"})})]})}}},function(e){e.O(0,[670,520,971,69,744],function(){return e(e.s=3271)}),_N_E=e.O()}]);